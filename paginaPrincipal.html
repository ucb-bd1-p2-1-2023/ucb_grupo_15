<!DOCTYPE html>
<html>
<head>
    <title>In Drive</title>
<<<<<<< HEAD
    <link rel="stylesheet" href="style.css">
=======
>>>>>>> b5bdac7048793396f6f110b67c78492ac8d5c6d6
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBkeIuW3s504gN8C1Tl5Bqy3ML6ly_rEpc"></script>
    <script>
        var map;
        var marcadorOrigen;
        var marcadorDestino;
        
        function initMap() {
            map = new google.maps.Map(document.getElementById('map'), {
                center: {lat: -17.372377, lng: -66.143508}, // Centro del mapa inicial
                zoom: 15 // Nivel de zoom inicial
            });
        
            marcadorOrigen = new google.maps.Marker({
                map: map,
                draggable: true, // Permite arrastrar el marcador
                title: 'Origen'
            });
        
            marcadorDestino = new google.maps.Marker({
                map: map,
                draggable: true, // Permite arrastrar el marcador
                title: 'Destino'
            });
        
            google.maps.event.addListener(map, 'click', function(event) {
                establecerMarcadorOrigen(event.latLng);
            });

            google.maps.event.addListener(map, 'center_changed', function() {
                marcadorOrigen.setPosition(map.getCenter());
                calcularDistancia();
            });
        }
        
        function establecerMarcadorOrigen(location) {
            marcadorOrigen.setPosition(location);
            calcularDistancia();
        }
        
        function establecerMarcadorDestino(location) {
            marcadorDestino.setPosition(location);
            calcularDistancia();
<<<<<<< HEAD

            // Obtener los elementos de los labels por su ID
            var fechaLabel = document.getElementById("fechaLabel");
            var horaLabel = document.getElementById("horaLabel");

            // Obtener la fecha y hora actual
            var fechaActual = new Date();

            // Formatear la fecha y hora en el formato deseado
            var fechaFormateada = fechaActual.toLocaleDateString();
            var horaFormateada = fechaActual.toLocaleTimeString();

            // Actualizar el contenido de los labels con la fecha y hora
            fechaLabel.innerHTML += fechaFormateada;
            horaLabel.innerHTML += horaFormateada;
=======
>>>>>>> b5bdac7048793396f6f110b67c78492ac8d5c6d6
        }
        
        function calcularDistancia() {
            var origen = marcadorOrigen.getPosition();
            var destino = marcadorDestino.getPosition();
        
            var directionsService = new google.maps.DirectionsService();
        
            var request = {
                origin: origen,
                destination: destino,
                travelMode: google.maps.TravelMode.DRIVING
            };
        
            directionsService.route(request, function(response, status) {
                if (status == google.maps.DirectionsStatus.OK) {
                    var distancia = response.routes[0].legs[0].distance.text;
                    var duracion = response.routes[0].legs[0].duration.text;
        
<<<<<<< HEAD
                    document.getElementById('resultado_distancia').innerHTML = distancia;
                    document.getElementById('resultado_duracion').innerHTML = duracion;
                    
                    //falta el monto
                    document.getElementById('monto').innerHTML;
=======
                    document.getElementById('resultado').innerHTML = 'Distancia: ' + distancia + '<br>DuraciÃ³n: ' + duracion;
>>>>>>> b5bdac7048793396f6f110b67c78492ac8d5c6d6
                } else {
                    document.getElementById('resultado').innerHTML = 'Error al calcular la distancia.';
                }
            });
        }
    </script>
<<<<<<< HEAD
</head>
<body>
    <div class="padre">
        <div>
            <h1>Mapa</h1>
            <a class="botones_arriba" href="index.html" > Atras<a></a>
            <div class="botones_head">
                <a class="botones_arriba" href="comentarios.html"> Comentarios</a>
                <button class="botones_arriba"> Historial</button>
            </div>
        </div>
        <div id="map"></div>
        <br>
        <div class="form_tarifas">
            <div class="botones">
                <button class="botones_arriba" onclick="establecerMarcadorOrigen(map.getCenter())">Origen</button>
                <button class="botones_arriba" onclick="establecerMarcadorDestino(map.getCenter())">Destino</button>
            </div>
            <div class="labels_form">
                <label class="titulo">Distancia: </label>
                <label id="resultado_distancia"></label>
                <br>
                <label class="titulo">Duracion: </label>
                <label id="resultado_duracion"></label>
                <br>
                <label class="titulo" id="">Fecha: </label>
                <label class="" id="fechaLabel"></label>
                <br>
                <label class="titulo" id="">Hora: </label>
                <label class="" id="horaLabel"> </label>
                <br>
                <label class="titulo" id="">Monto: </label>
                <label id="monto"></label>
            </div>
        </div>
        <br>
    </div>
=======
    <style>
        #map {
            height: 700px;
            width: 100%;
        }
    </style>
</head>
<body>
    <h1>Mapa</h1>
    <div id="map"></div>
    <br>
    <div>
        <button onclick="establecerMarcadorOrigen(map.getCenter())">Origen</button>
        <button onclick="establecerMarcadorDestino(map.getCenter())">Destino</button>
    </div>
    <br>
    <div id="resultado"></div>

>>>>>>> b5bdac7048793396f6f110b67c78492ac8d5c6d6
    <script>
        window.onload = function() {
            initMap();
        }
    </script>
</body>
</html>
